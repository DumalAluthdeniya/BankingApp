@inject ISharedViewLocalizer localizer
@model DashboardViewModel

<main class="col-lg-10 offset-lg-2 bg_gray_lighten">
    <nav class="d-flex justify-content-between bg-white align-items-center p-4 border__bottom">
        <div class="d-none d-lg-block">
            <h4 class="fw-semibold" style="font-size: 22px;">Dashboard</h4>
        </div>
		
        <div>
			@await Html.PartialAsync("_CulturePartial")
        </div>
    </nav>

    <div class="py-4">
        <div class="container">
            <div class="row">
                <div class="col-4">
                    <div class="p-5 d-flex bg-white rounded justify-content-between align-items-center">
                        <div class="">
							<p class="text_gray_dark fw-400">@localizer["Customers Number"]</p>
                            <h4 class="secondery__font">@Model.CustomerCount</h4>
                        </div>
                        <div class="btn_small bg_blue_light">
                            <img src="../assets/svg/users.svg" alt="" srcset="">
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <div class="p-5 d-flex bg-white rounded justify-content-between align-items-center">
                        <div class="">
							<p class="text_gray_dark fw-400">@localizer["Total Loans"]</p>
                            <h4 class="secondery__font">@Model.TotalLoansSum</h4>
                        </div>
                        <div class="btn_small">
                            <img src="../assets/svg/wallet.svg" alt="" srcset="">
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <div class="p-5 d-flex bg-white rounded justify-content-between align-items-center">
                        <div class="">
							<p class="text_gray_dark fw-400">@localizer["Total Deposits"]</p>
                            <h4 class="secondery__font">@Model.TotalDeposits</h4>
                        </div>
                        <div class="btn_small bg_primary">
                            <img src="../assets/svg/Card.svg" alt="" srcset="">
                        </div>
                    </div>
                </div>
            </div>

            <div class="my-4">
                <div class="row">
                    <div class="col-8">
                        <div class="bg-white p-4">
                            <div class="d-flex justify-content-between p-4 rounded align-items-center">
								<h6 class="card__name fw-600">@localizer["Analytics"]</h6>
                                <div class="d-flex align-items-center">
                                    <ul class="d-flex align-items-center">
                                        <li class="fs-5 d-flex align-items-center">
                                            <div class="bg_primary rounded-circle me-2" style="width: 10px;height:10px"></div> Income
                                        </li>
                                        <li class="fs-5 ms-4 d-flex align-items-center">
                                            <div class="bg_blue_light rounded-circle me-2" style="width: 10px;height:10px"></div>
                                            Outcome
                                        </li>
                                    </ul>
                                    <select name="" class="form-control nav-item ms-4" id="">
                                        <option value="">2020</option>
                                    </select>
                                </div>
                            </div>
                            <div id="chart"></div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white p-4">
                            <div class="d-flex justify-content-between p-4 rounded align-items-center">
								<h6 class="card__name fw-600">@localizer["Account type"]</h6>
                            </div>
                            <div class="p-4" id="pipeChart"></div>
                            <ul class="d-flex col-10 mx-auto justify-content-between align-items-center">
                                <li class="fs-5 ms-4 d-flex align-items-center">
                                    <div class="bg_blue_light rounded-circle me-2" style="width: 10px;height:10px"></div> @localizer["Savings"]
                                </li>
                                <li class="fs-5 d-flex align-items-center">
                                    <div class="rounded-circle me-2" style="width: 10px;height:10px;background-color: #1573FF;">
									</div> @localizer["Spending"]
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

@section Scripts{
	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
	<script>
		var options = {

			legend: {
				show: false
			},
			series: [{
				name: 'Income',
				data: [10, 20, 30, 40, 50]
			}, {
				name: 'Outcome',
				data: [25, 40, 10, 15, 35]
			},],
			chart: {
				type: 'bar',
				height: 350,
				toolbar: {
					show: false,
				},
			},
			plotOptions: {
				bar: {
					horizontal: false,
					columnWidth: '20%',
					borderRadiusApplication: 'end',
					borderRadius: 5,
				},
			},
			dataLabels: {
				enabled: false,
			},
			stroke: {
				show: true,
				width: 2,
				colors: ['transparent']
			},
			yaxis: {
				labels: {
					formatter: function (value) {
						return value + "K";
					}
				},
			},
			xaxis: {
				categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun'],
			},
			fill: {
				opacity: 1,
				colors: ['#64CFF6', '#1C3879']
			},
			tooltip: {
				y: {
					formatter: function (val) {
						return `$ ${val}`
					}
				}
			},
			grid: {
				borderColor: '#8C89B480',
				strokeDashArray: 3
			}
		};

		var optionsAccount = {
			series: [60, 30],
			labels: ['Spending', 'Saving'],
			colors: ['#1573FF', '#64CFF6'],
			chart: {
				type: 'donut',
			},
			plotOptions: {
				pie: {
					expandOnClick: false
				}
			},
			legend: {
				show: false,
				position: 'bottom'
			},
			fill: {
				opacity: 1,
				colors: ['#1573FF', '#64CFF6']
			},
			tooltip: {
				enabled: true,
				fillSeriesColor: false,
				y: {
					formatter: function (value, { series, seriesIndex, dataPointIndex, w }) {
						return `${value} %`
					}
				}
			},
			dataLabels: {
				enabled: false,
			},
			markers: {
				colors: ['#1573FF', '#64CFF6']
			}

		};
		var chart = new ApexCharts(document.querySelector("#chart"), options);
		chart.render();

		var chartAccount = new ApexCharts(document.querySelector("#pipeChart"), optionsAccount);
		chartAccount.render();
	</script>
}